import { HtsgetFile } from '@gmod/bam';
import BamAdapter from '../BamAdapter/BamAdapter';
export default class HtsgetBamAdapter extends BamAdapter {
    async configurePre() {
        const htsgetBase = this.getConf('htsgetBase');
        const htsgetTrackId = this.getConf('htsgetTrackId');
        const bam = new HtsgetFile({
            baseUrl: htsgetBase,
            trackId: htsgetTrackId,
        });
        const adapterConfig = this.getConf('sequenceAdapter');
        if (adapterConfig && this.getSubAdapter) {
            const adapter = await this.getSubAdapter(adapterConfig);
            return {
                bam,
                sequenceAdapter: adapter.dataAdapter,
            };
        }
        return { bam };
    }
}
