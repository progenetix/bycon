import { getContainingView, getSession } from '@jbrowse/core/util';
import { hasPairedReads } from '../shared/util';
import { drawPairChains } from './drawPairChains';
import { drawLongReadChains } from './drawLongReadChains';
export function drawFeats(self, ctx) {
    const { chainData } = self;
    if (!chainData) {
        return;
    }
    const { assemblyManager } = getSession(self);
    const view = getContainingView(self);
    const assemblyName = view.assemblyNames[0];
    const asm = assemblyManager.get(assemblyName);
    if (!asm) {
        return;
    }
    const hasPaired = hasPairedReads(chainData);
    if (hasPaired) {
        drawPairChains({ self, view, asm, ctx, chainData });
    }
    else {
        drawLongReadChains({ self, view, asm, ctx, chainData });
    }
}
