import React, { useState } from 'react';
import { DataGrid, GridToolbar, } from '@mui/x-data-grid';
import { Checkbox, FormControlLabel, Typography } from '@mui/material';
import ResizeBar from '@jbrowse/core/ui/ResizeBar';
import { measureGridWidth } from '@jbrowse/core/util';
import { useResizeBar } from '@jbrowse/core/ui/useResizeBar';
export default function VariantAnnotPanel({ rows, columns, }) {
    const { ref, scrollLeft } = useResizeBar();
    const [checked, setChecked] = useState(false);
    const [widths, setWidths] = useState(columns.map(e => measureGridWidth(rows.map(r => r[e.field]))));
    return rows.length ? (React.createElement("div", { ref: ref },
        React.createElement(FormControlLabel, { control: React.createElement(Checkbox, { checked: checked, onChange: event => setChecked(event.target.checked) }), label: React.createElement(Typography, { variant: "body2" }, "Show options") }),
        React.createElement("div", { ref: ref },
            React.createElement(ResizeBar, { widths: widths, setWidths: setWidths, scrollLeft: scrollLeft }),
            React.createElement(DataGrid, { rowHeight: 25, rows: rows, columns: columns.map((c, i) => ({ ...c, width: widths[i] })), slots: { toolbar: checked ? GridToolbar : null } })))) : null;
}
