import React from 'react';
import { Badge } from '@mui/material';
import { observer } from 'mobx-react';
import { getSession, getEnv } from '@jbrowse/core/util';
// icons
import ShoppingCartIcon from '@mui/icons-material/ShoppingCart';
import CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton';
const ShoppingCart = observer(function ({ model, }) {
    const { selection } = model;
    const { pluginManager } = getEnv(model);
    const session = getSession(model);
    const items = pluginManager.evaluateExtensionPoint('TrackSelector-multiTrackMenuItems', [], { session });
    return selection.length ? (React.createElement(CascadingMenuButton, { menuItems: [
            { label: 'Clear', onClick: () => model.clearSelection() },
            ...items.map(item => ({
                ...item,
                ...('onClick' in item ? { onClick: () => item.onClick(model) } : {}),
            })),
        ] },
        React.createElement(Badge, { badgeContent: selection.length, color: "primary" },
            React.createElement(ShoppingCartIcon, null)))) : null;
});
export default ShoppingCart;
