import React from 'react';
import { makeStyles } from 'tss-react/mui';
import { getSession } from '@jbrowse/core/util';
import CascadingMenuButton from '@jbrowse/core/ui/CascadingMenuButton';
// icons
import MoreHorizIcon from '@mui/icons-material/MoreHoriz';
import StarIcon from '@mui/icons-material/StarBorderOutlined';
import FilledStarIcon from '@mui/icons-material/Star';
const useStyles = makeStyles()({
    cascadingStyle: {
        padding: 0,
    },
});
const TrackLabelMenu = function ({ id, trackId, stopPropagation, model, setOpen, conf, }) {
    var _a, _b;
    const { classes } = useStyles();
    return (React.createElement(CascadingMenuButton, { className: classes.cascadingStyle, stopPropagation: stopPropagation, setOpen: setOpen, "data-testid": `htsTrackEntryMenu-${id}`, menuItems: [
            ...(((_b = (_a = getSession(model)).getTrackActionMenuItems) === null || _b === void 0 ? void 0 : _b.call(_a, conf)) || []),
            model.isFavorite(trackId)
                ? {
                    label: 'Remove from favorites',
                    onClick: () => model.removeFromFavorites(trackId),
                    icon: StarIcon,
                }
                : {
                    label: 'Add to favorites',
                    onClick: () => model.addToFavorites(trackId),
                    icon: FilledStarIcon,
                },
            {
                label: 'Add to selection',
                onClick: () => model.addToSelection([conf]),
            },
            ...(model.isSelected(conf)
                ? [
                    {
                        label: 'Remove from selection',
                        onClick: () => model.removeFromSelection([conf]),
                    },
                ]
                : []),
        ] },
        React.createElement(MoreHorizIcon, null)));
};
export default TrackLabelMenu;
